<style>
a {color: #ff335e;text-decoration: none;background-color: transparent;}
a:hover {color: #fb9f07;text-decoration: none;}
.sidebar-dark-primary .nav-sidebar>.nav-item>.nav-link.active, .sidebar-light-primary .nav-sidebar>.nav-item>.nav-link.active {background-color: #dc3545;color: #fff;}
.card-primary.card-outline {border-top: 3px solid #fca70a;}
.nav-pills .nav-link.active, .nav-pills .show>.nav-link {color: #fff;background-color: #dc3545;}
.nav-pills .nav-link:not(.active):hover {color: #feb20f;}
.btn-secondary {color: #fff;background-color: #dc3545;border-color: #ff2251;box-shadow: none;}
.btn-secondary:hover {color: #fff;background-color: #feb510;border-color: #fdb51b;}
.dropdown-item.active, .dropdown-item:active {color: #fff;text-decoration: none;background-color: #dc3545;}
.callout.callout-info {border-left-color: #dc3545;}



.nav-link[style*="pointer-events: none"] {
    opacity: 0.6;
    cursor: not-allowed;
}


</style>

<!-- Main Sidebar Container -->
<aside class="main-sidebar sidebar-dark-primary elevation-4">
    

    
    <!-- Brand Logo -->
    <a href="/superadmin" class="brand-link">
        <!-- <center>KWL-IAS</center> -->
        <span class="brand-text font-weight-light"><img src="../adminassets/images/logo.png" style="width: 100%;"></span>
    </a>

        
    <!-- Sidebar -->
    <div class="sidebar">

        <!-- Sidebar Menu -->
       <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                <li class="nav-item">
                    <a href="/superadmin" class="nav-link active">
                        <i class="nav-icon fas fa-tachometer-alt"></i>
                        <p>Dashboard</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/superadmin/appointments" class="nav-link">
                        <i class="nav-icon fas fa-calendar"></i>
                        <p>View Appointments</p>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="/superadmin/reports" class="nav-link">
                        <i class="nav-icon nav-icon fas fa-copy"></i>
                        <p>Reports</p>
                    </a>
                </li>


                <li class="nav-item">
                    <a href="/superadmin/auditlogs" class="nav-link">
                        <i class="nav-icon nav-icon fa fa-history"></i>
                        <p>Audit Logs</p>
                    </a>
                </li>

                
                
         <!-- Agent Management Section -->
         <li class="nav-item has-treeview">
            <a href="#" class="nav-link">
                <i class="nav-icon fas fa-users"></i>
                <p>
                    Agent Management
                    <i class="right fas fa-angle-left"></i>
                </p>
            </a>
            <ul class="nav nav-treeview">
                <li class="nav-item">
                    <a href="/superadmin/addAgent" class="nav-link">
                        <i class="far fa-circle nav-icon"></i>
                        <p>Add Agent</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/superadmin/viewAgents" class="nav-link">
                        <i class="far fa-circle nav-icon"></i>
                        <p>View Agents</p>
                    </a>
                </li>
            </ul>
        </li>

                <li class="nav-item">
                    <a href="/superadmin/logout" class="nav-link">
                        <i class="nav-icon fas fa-sign-out-alt"></i>
                        <p>Logout</p>
                    </a>
                </li>

            </ul>
        </nav>
        <!-- // sidebar-menu -->

    </div>
    <!-- // sidebar -->
    
</aside>



<script>
    // function highlightActiveLink() {
    //     const savedPath = localStorage.getItem('activePath') || window.location.pathname;

    //     // Remove active class from all links
    //     document.querySelectorAll('.nav-link').forEach((link) => {
    //         link.classList.remove('active');
    //     });

    //     // Highlight the active link
    //     const activeLink = document.querySelector(`.nav-link[href="${savedPath}"]`);
    //     if (activeLink) {
    //         activeLink.classList.add('active'); // Add active class to the link itself
    //     }
    // }

    // document.addEventListener('DOMContentLoaded', () => {
    //     highlightActiveLink();

    //     // Save active path to local storage on link click
    //     document.querySelectorAll('.nav-link').forEach((link) => {
    //         link.addEventListener('click', () => {
    //             localStorage.setItem('activePath', link.getAttribute('href'));
    //         });
    //     });
    // });
</script>


<script>
   

   function highlightActiveLink() {
        const savedPath = localStorage.getItem('activePath') || window.location.pathname;

        // Remove active class from all links
        document.querySelectorAll('.nav-link').forEach((link) => {
            link.classList.remove('active');
        });

        // Highlight the active link
        const activeLink = document.querySelector(`.nav-link[href="${savedPath}"]`);
        if (activeLink) {
            activeLink.classList.add('active'); // Add active class to the link itself

            // If it's inside a treeview, ensure the parent treeview is open
            const parentTreeview = activeLink.closest('.has-treeview');
            if (parentTreeview) {
                parentTreeview.classList.add('menu-open');
                parentTreeview.querySelector('.nav-link').classList.add('active');
            }
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        highlightActiveLink();

        // Add click event listener to all nav links
        document.querySelectorAll('.nav-link').forEach((link) => {
            link.addEventListener('click', (e) => {
                const currentPath = window.location.pathname;
                const linkPath = link.getAttribute('href');

                // Prevent navigation if the link is already active
                if (currentPath === linkPath) {
                    e.preventDefault();
                    console.log("You are already on this page!"); // Optional feedback
                    return false;
                }

                // Save active path to local storage
                localStorage.setItem('activePath', linkPath);

                // Optionally, you can disable the link visually until the new page loads
                link.style.pointerEvents = 'none';
                link.style.opacity = '0.6';
            });
        });
    });


</script>

